#!/usr/bin/env bash

set -o pipefail
set -o nounset

source "${BASH_SOURCE%/*}/../install/common.sh"

SCRIPT_DIR="${BASH_SOURCE%/*}"

_main() {

  local -a _essentials=(
    "build-essential"
    "libffi-dev"
    "libssl-dev"
    "cmake"
    "curl"
    "wget"
    "zip"
    "unzip"
    "unar"
    "git"
    "-d git git-lfs"
    "gnupg2"
    "net-tools"
  )

  local -a _languages=(
    # Python
    "python"
    "python2"
    "python2-dev"
    "python3"
    "python3-dev"
    "python3-pip"
    "python3-venv"
    # Python packages
    "-m pip -d python wheel"
    "-m pip -d python pipenv"
    "-m pip -d python virtualenv"
    "-m pip -d python Send2Trash"
    "-m pip -d python trash-cli"
    "-m pip2 -d python2 wheel"
    "-m pip2 -d python2 pipenv"
    "-m pip2 -d python2 virtualenv"
    "-m pip2 -d python2 Send2Trash"
    "-m pip2 -d python2 trash-cli"
    "-m pip3 -d python3 wheel"
    "-m pip3 -d python3 pipenv"
    "-m pip3 -d python3 virtualenv"
    "-m pip3 -d python3 Send2Trash"
    "-m pip3 -d python3 trash-cli"
    # Java
    "default-jre"
    "default-jdk"
    "openjdk-8-jdk"
    "openjdk-8-jre"
    "openjdk-11-jdk"
    "openjdk-11-jre"
    "openjdk-13-jdk"
    "openjdk-13-jre"
    "maven"
    # R
    "r-base"
  )

  local -a _package_manager=(
    "-m npm -d nodejs browser-sync"
    "-m npm -d nodejs gulp-cli"
    "yarn"
    "-m curl -n 'nodejs' 'https://raw.githubusercontent.com/creationix/nvm/master/install.sh | bash'"
    "-m curl -n 'cargo' 'https://sh.rustup.rs | sh'"
  )



  local -a packages=(
    "${_essentials[@]}"
    "${_languages[@]}"
    "${_package_manager[@]}"
  )

  for package in "${packages[@]}"; do
    ${SCRIPT_DIR}/generate-template -y "${package}"
  done
}

_main
